#---
# LoadBalancer IP Pool for cluster-101
# Dual-stack pool with both IPv4 and IPv6 CIDRs
# IPs from this pool will be assigned to LoadBalancer services
# and advertised via BGP to the upstream router
#
# IP Allocation Strategy for cluster-101 (per authoritative scheme):
#   VM Data Plane:   10.101.0.0/24   (fd00:101::/64) - Nodes use .11-.23
#   Pod CIDR:        10.101.244.0/22 (fd00:101:244::/60)
#   LoadBalancer:    10.101.240.0/24 (fd00:101:240::/112)

---
# Dual-stack pool for general LoadBalancer services
# Contains both IPv4 and IPv6 blocks for dual-stack support
apiVersion: cilium.io/v2alpha1
kind: CiliumLoadBalancerIPPool
metadata:
  name: cluster-101-pool
  namespace: kube-system
spec:
  blocks:
    # IPv4 blocks
    - cidr: 10.101.240.0/24  # 10.101.240.0-254 (LoadBalancer VIP Pool - high-range reserved)
    # IPv6 blocks
    - cidr: fd00:101:240::/112  # fd00:101:240:: (LoadBalancer VIP Pool - 65,536 IPs)

---
# Optional: Dedicated pool for ingress controllers
# Uncomment if you want separate pool for ingress with specific IPs
# apiVersion: cilium.io/v2alpha1
# kind: CiliumLoadBalancerIPPool
# metadata:
#   name: cluster-101-ingress-pool-ipv4
#   namespace: kube-system
# spec:
#   blocks:
#     - cidr: 10.0.101.80/29  # 10.0.101.80-87 (8 IPs)
#   serviceSelector:
#     matchLabels:
#       lb-pool: ingress

---
# Optional: Dedicated pool for gateway API
# apiVersion: cilium.io/v2alpha1
# kind: CiliumLoadBalancerIPPool
# metadata:
#   name: cluster-101-gateway-pool-ipv4
#   namespace: kube-system
# spec:
#   blocks:
#     - cidr: 10.0.101.88/29  # 10.0.101.88-95 (8 IPs)
#   serviceSelector:
#     matchLabels:
#       lb-pool: gateway
