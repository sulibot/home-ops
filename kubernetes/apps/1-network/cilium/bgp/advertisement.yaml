---
# BGP Advertisement - Advertise pod CIDRs
apiVersion: cilium.io/v2
kind: CiliumBGPAdvertisement
metadata:
  name: pod-cidr-advertisement
  namespace: kube-system
  labels:
    advertise: pod-cidr
spec:
  advertisements:
    # Advertise pod CIDRs allocated to each node
    - advertisementType: PodCIDR
      attributes:
        communities:
          standard:
            - "65101:100"  # Custom community tag (optional)

    # Also advertise service LoadBalancer IPs (for future use)
    - advertisementType: Service
      service:
        addresses:
          - LoadBalancerIP
      selector:
        matchLabels:
          bgp-advertise: "true"
