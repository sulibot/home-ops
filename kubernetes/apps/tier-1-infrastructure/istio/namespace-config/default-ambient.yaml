---
# Enable Istio Ambient Mesh for default namespace (Wave 3)
# This provides L4 mTLS for all 24 applications via ztunnel
apiVersion: v1
kind: Namespace
metadata:
  name: default
  labels:
    # Enable ambient mesh mode
    istio.io/dataplane-mode: ambient
    # Privileged pod security for applications that need elevated permissions
    pod-security.kubernetes.io/enforce: privileged
    pod-security.kubernetes.io/audit: privileged
    pod-security.kubernetes.io/warn: privileged
