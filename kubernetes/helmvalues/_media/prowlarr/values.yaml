# General application settings
name: prowlarr
namespace: media

# Docker container settings
image:
  repository: ghcr.io/onedr0p/prowlarr-develop
  tag: 1.32.2.4987@sha256:f3c0edbd19d744c8306ae8f72e75f0fb54ff662e9f7b22a4d9029e5c0b7f075c
  pullPolicy: IfNotPresent

# Timezone
timezone: "America/Los_Angeles"

# Replica settings
replicaCount: 1

# Gateway configuration
gateway:
  enabled: true
  name: gateway-internal
  namespace: network
  domain: sulibot.com

# Environment variables
env:
  - name: PROWLARR__APP__INSTANCENAME
    value: Prowlarr
  - name: PROWLARR__APP__THEME
    value: dark
  - name: PROWLARR__AUTH__METHOD
    value: External
  - name: PROWLARR__AUTH__REQUIRED
    value: DisabledForLocalAddresses
  - name: PROWLARR__LOG__DBENABLED
    value: "False"
  - name: PROWLARR__LOG__LEVEL
    value: info
#  - name: PROWLARR__SERVER__PORT
#    value: "80"
#  - name: PROWLARR__UPDATE__BRANCH
#    value: develop


# Labels and annotations
labels:
  global: {}
annotations:
  pod: {}

# Port configuration
ports:
  servicePort: 80
  targetPort: 9696

# DNS configuration
dnsPolicy: ClusterFirst
dnsConfig:
  enabled: true
  options:
    - name: ndots
      value: "1"

# Config PVC settings
config:
  enabled: true
  mountPath: /config
  storageSize: 100Mi

# Data PVC settings
data:
  enabled: true
  mountPath: /data
  storageSize: 10Gi

# Security context settings
securityContext:
  enabled: true
  runAsUser: 65534
  runAsGroup: 65534
  fsGroup: 65534
  fsGroupChangePolicy: OnRootMismatch
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: false

# Resource limits and requests
resources:
  enabled: false
  requests:
    memory: "256Mi"
    cpu: "250m"
  limits:
    memory: "512Mi"
    cpu: "500m"

# Tolerations and affinity
tolerations: []
affinity: {}

# Headless service configuration
headless:
  enabled: true

# Ingress configuration
ingress:
  enabled: false
  className: cilium
  tls:
    certManagerIssuer: letsencrypt-prod
