---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: immich-redis-pv
spec:
  capacity:
    storage: 10Gi
  accessModes:
    - ReadWriteMany
  volumeMode: Filesystem
  storageClassName: csi-cephfs-sc-retain
  persistentVolumeReclaimPolicy: Retain
  csi:
    driver: cephfs.csi.ceph.com  # Correct driver name
    volumeHandle: immich-redis-pv
    nodeStageSecretRef:
      name: csi-cephfs-pv-secret
      namespace: ceph-csi-cephfs
    volumeAttributes:
      clusterID: 407036f5-1f73-44ff-ba81-1f219b7a8a64
      fsName: kubernetes
      pool: kubernetes_data
      rootPath: /
      monitors: >-
        [fc00:20::1]:6789,[fc00:20::2]:6789,[fc00:20::3]:6789
