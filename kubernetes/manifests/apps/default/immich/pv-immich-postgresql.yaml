---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-immich-redis
  labels:
    app: immich
    component: redis
spec:
  capacity:
    storage: 10Gi
  volumeMode: Filesystem
  accessModes:
    - ReadWriteOnce
  persistentVolumeReclaimPolicy: Retain
  storageClassName: csi-cephfs-sc-retain
  csi:
    driver: cephfs.csi.ceph.com
    volumeHandle: pv-immich-redis
    nodeStageSecretRef:
      name: csi-cephfs-pv-secret
      namespace: ceph-csi-cephfs
    volumeAttributes:
      clusterID: e919300b-6e62-4c63-90ca-199d5307f9bf
      fsName: kubernetes
      pool: kubernetes_data
      rootPath: /
      monitors: >-
        [fc00:20::1]:3300,[fc00:20::2]:3300,[fc00:20::3]:3300
