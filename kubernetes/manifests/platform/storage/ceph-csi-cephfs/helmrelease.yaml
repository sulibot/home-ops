apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: ceph-csi
    namespace: ceph-csi-cephfs
spec:
    chart:
        spec:
            chart: ceph-csi-cephfs
            reconcileStrategy: ChartVersion
            sourceRef:
                kind: HelmRepository
                name: ceph-csi
                namespace: flux-system
            version: 3.13.0
    install:
        createNamespace: true
    interval: 1m0s
    values:
        csiConfig:
            - cephFS:
                subvolumeGroup: csi
              clusterID: e919300b-6e62-4c63-90ca-199d5307f9bf
              monitors:
                - '[fd00::1:1]:6789'
                - '[fd00::1:2]:6789'
                - '[fd00::1:3]:6789'
        logLevel: 5
        secret:
            adminID: ENC[AES256_GCM,data:+shvhmc=,iv:qQfPpXKGblg3c/uQ7DPG8QlFA4GAa4MGTD/vMyxrK6M=,tag:XNPbbk9zaSPV16m8UKnH7w==,type:str]
            adminKey: ENC[AES256_GCM,data:jCSBLEYXXc1CA8PkcON1iuiky0A88izNE5V0bRlY4MBFVdj2wu4ZRw==,iv:zTwrui2FQT6Vbs/w5VSztqQcGOQ/yRosbWgBftDuEus=,tag:F1Z/3XyL+Wgu8f9SOP11rg==,type:str]
            create: ENC[AES256_GCM,data:N6Lq0g==,iv:0bmBFGFcZ313C1m/QQq3iDwsjrnahPvTA0/1WLDGsyk=,tag:8XiSjfH+Og8fp3AV1hc4Cg==,type:bool]
            name: ENC[AES256_GCM,data:10IPcYFJFuIF5xSoL6DAG3o=,iv:tqm2PPMAfk54FWYcOu67YpIEbMLBvgO0KnlZieZujVc=,tag:K2I6v8hiMCyqtcfa4VYZ7w==,type:str]
        storageClass:
            allowVolumeExpansion: true
            clusterID: e919300b-6e62-4c63-90ca-199d5307f9bf
            controllerExpandSecret: csi-cephfs-secret
            controllerExpandSecretNamespace: ceph-csi-cephfs
            create: true
            fsName: kubernetes
            name: csi-cephfs-sc
            nodeStageSecret: csi-cephfs-secret
            nodeStageSecretNamespace: ceph-csi-cephfs
            provisionerSecret: csi-cephfs-secret
            provisionerSecretNamespace: ceph-csi-cephfs
            reclaimPolicy: Delete
            volumeNamePrefix: sol-csi-vol
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1k3sunyva3kc3jusxs3j93nyueqjgzcgg6s6qghn8aeqpuy7l35wss8gxvg
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA4SHJrMVJNL2FGRGZwRmxk
            S0NKUTFuam4vcVBnWlErTFVSZWpzQTQrWkQ4CkdxMDVRTXdVOEE3aWU5ckN6SHJX
            K1dJUUhkUUZ0dlhGeXNjWXc1Y0NybDgKLS0tIFUrd3NKSFgzVFZBN3FmV2xQOG13
            cDRYZm5SK3lmN3A4OHdCT0YyNHZ0R3cKLxcBOaGg/O1FwhkX6HbUfY4iydZFacPQ
            K+AujQX5wsPUaidJrPxhPgcS3cPCsaKey9y1kZtxIyCFBWn9T8qwRw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-19T04:44:28Z"
    mac: ENC[AES256_GCM,data:CRy53M643NmSexSfUci9swZLjr9Ch2X1+wHq+Lbg08+mgOE8Fx0+VhmZ+d+nid4/3I7+3wPlL+k2tQooRFaThWJERThZkWMG4geihROTm5Hl4g5XbMbaxfMLXMwDANgDqOpoXKMAgTgMxAlP8KKk6KdeUSe1UFy8z8C8O7hCHtE=,iv:jAwUF0Y5ieuS+4i/1ZlDfqW90mgYYbOxJAS3oELjudo=,tag:74Nzp0yGSWxldAc6LZ9XmA==,type:str]
    pgp: []
    encrypted_regex: ^(adminKey|userKey|secret|password)$
    version: 3.9.1
