apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: ceph-csi
    namespace: ceph-csi-cephfs
spec:
    chart:
        spec:
            chart: ceph-csi-cephfs
            reconcileStrategy: ChartVersion
            sourceRef:
                kind: HelmRepository
                name: ceph-csi
                namespace: flux-system
            version: 3.12.3
    install:
        createNamespace: true
    interval: 1m0s
    values:
        csiConfig:
            - cephFS:
                subvolumeGroup: csi
              clusterID: e919300b-6e62-4c63-90ca-199d5307f9bf
              monitors:
                - '[fd00::1:1]:6789'
                - '[fd00::1:2]:6789'
                - '[fd00::1:3]:6789'
        logLevel: 5
        secret:
            adminID: ENC[AES256_GCM,data:eSNK4sw=,iv:onMUmhEBfV1eMtI3td5O3/vypp9Bk2SzJBvs3B2/t+0=,tag:Uvfn9PPgYr3vVtPGbe2O6Q==,type:str]
            adminKey: ENC[AES256_GCM,data:90e+Lm6oFaCmqs7NOqtmqCsvxTdmsl7rhacQ2L9iI6R0OtVZjSOI6g==,iv:ChJkE/7PysCLkVuOKqbaGptHHcLy9SUZdJcY1wo9iIQ=,tag:lmCMOEqZ+iP7IUfuokC3+g==,type:str]
            create: ENC[AES256_GCM,data:rbBkEw==,iv:jAoK4QysOyvOAYzIx6xM89y4p5ik1f//Jfr2GMCfvVY=,tag:QgCiUwIDYxLy0EVmQdYKNg==,type:bool]
            name: ENC[AES256_GCM,data:krqvj3nZteTjHe4cp1upDKM=,iv:hQzPzJDodPtkfVT+pMSE+H2orDJgODy9gihMKRZQjlw=,tag:RNGtuLx8CezjfLBdn+m8xQ==,type:str]
        storageClass:
            allowVolumeExpansion: true
            clusterID: e919300b-6e62-4c63-90ca-199d5307f9bf
            controllerExpandSecret: csi-cephfs-secret
            controllerExpandSecretNamespace: ceph-csi-cephfs
            create: true
            fsName: kubernetes
            name: csi-cephfs-sc
            nodeStageSecret: csi-cephfs-secret
            nodeStageSecretNamespace: ceph-csi-cephfs
            provisionerSecret: csi-cephfs-secret
            provisionerSecretNamespace: ceph-csi-cephfs
            reclaimPolicy: Delete
            volumeNamePrefix: sol-csi-vol
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1k3sunyva3kc3jusxs3j93nyueqjgzcgg6s6qghn8aeqpuy7l35wss8gxvg
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBsQ2ErMEFOKzFac1ZZYzdP
            MUFsNVFuNDlnRDErd0VwcmpzZ0hqUHkyM2lzCjE0UURHMnR6SElySVEvckNnRmRq
            RWp4VGY0Yng3b0t1Rkg5bTRUOCs0NTAKLS0tIFR2Ymw1NEltMFBTbm5uN0w2RlZX
            Z29Bd1hwbVFCLyt1R1ZkMEJXaXhzaTAKAyQMcY2mx8ngtF6ifyTPdLfkAlyv5gyE
            OxRRCicRFx31ey6VCqFmthHr8Dz7biH8Rp0SJLQa7E+gJ/iNInq9WQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-01-20T02:31:22Z"
    mac: ENC[AES256_GCM,data:9FC78fQIAixvJwhZO6CAWHvlOKuAnE4Tr8IyWORRa3JJORA+glMGRBTAMiYGOzlKyVshpamyuiVFmV22PUmTne7JD5OCAVv5JpT7IXoNCJkqJ7H2TNAqX8wCbb1Ib+y+D2SO3uD8a6gJUg74SMfXCnyp5st845JEOTtK1VEm8UQ=,iv:8bokH9ShjPAzfQPQR6b1sRWCpj5FtMy+3zNvytrULJY=,tag:c4WRO6ApYBrOjluHJgD0dw==,type:str]
    pgp: []
    encrypted_regex: ^(adminKey|userKey|secret|password)$
    version: 3.9.1
