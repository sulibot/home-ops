version: v1alpha1
debug: false
persist: true
machine:
  type: worker
  token: rntth0.b0spd7o4dz0851ae
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQekNCOHFBREFnRUNBaEVBNlB6MHBObHpKZ3gwVXd2dHIveEJvakFGQmdNclpYQXdFREVPTUF3R0ExVUUKQ2hNRmRHRnNiM013SGhjTk1qWXdNakE1TURjeE1qRTFXaGNOTXpZd01qQTNNRGN4TWpFMVdqQVFNUTR3REFZRApWUVFLRXdWMFlXeHZjekFxTUFVR0F5dGxjQU1oQUViWHpXMFBjajZoV2I3OFdWTUVLVXBBYnBNOGF2SGUzTE1ICkhFUmpxOW84bzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUcKQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkwwZEI0bFBydmYrK0tucQptQVhZZVhEckxMYUtNQVVHQXl0bGNBTkJBQnhIRlNORVp4QTJHeHplUFYyblhSeFpxZUdMZUtvVEhtSXdoT0Z0CkxwMDJaQ1V2TWxEOGVqMVZmMS9WcmNsRjFsYzhuY0VaN0paeEJWdnh5MjNrbWdFPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: ""
  certSANs: []
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.34.1
    clusterDNS:
      - fd00:101:96::a
      - 10.101.96.10
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
  network: {}
  install:
    disk: /dev/sda
    extraKernelArgs:
      - console=ttyS0,115200
      - -init_on_alloc
      - -init_on_free
      - -selinux
      - apparmor=0
      - i915.disable_display=1
      - i915.force_probe=*
      - init_on_alloc=0
      - init_on_free=0
      - intel_iommu=on
      - iommu=pt
      - mitigations=off
      - module_blacklist=igc
      - security=none
      - sysctl.kernel.kexec_load_disabled=1
      - talos.auditd.disabled=1
    image: ghcr.io/sulibot/talos-frr-installer:v1.12.1
    extensions:
      - image: ghcr.io/siderolabs/i915:20251125-v1.12.1@sha256:fb89c85a04ecb85abaec9d400e03a1628bf68aef3580e98f340cbe8920a6e4ed
      - image: ghcr.io/siderolabs/qemu-guest-agent:10.2.0@sha256:b2843f69e3cd31ba813c1164f290ebbfddd239d53b3a0eeb19eb2f91fec6fed7
      - image: ghcr.io/siderolabs/crun:1.26@sha256:5910e8e068a557afd727344649e0e6738ba53267c4339213924d4349567fe8d4
      - image: ghcr.io/siderolabs/ctr:v2.1.5@sha256:67337f841b2ad13fbf43990e735bc9e61deafb91ab5d4fde42392b49f58cbe00
      - image: ghcr.io/sulibot/frr-talos-extension:v1.7.20@sha256:a361476c4458d4fee84d38c2a793ea44e0dc5b6fd10f568e71d74289f5fb6184
    wipe: false
  files:
    - content: |
        [plugins."io.containerd.cri.v1.runtime"]
          cdi_spec_dirs = ["/var/cdi/static", "/var/cdi/dynamic"]
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    servers:
      - fd00:0:0:ffff::53
      - 10.255.0.53
  sysctls:
    fs.file-max: "1000000"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "1048576"
    net.core.somaxconn: "32768"
    net.ipv4.conf.all.arp_notify: "1"
    net.ipv4.conf.default.arp_notify: "1"
    net.ipv4.conf.ens18.arp_notify: "1"
    net.ipv4.ip_forward: "1"
    net.ipv6.conf.all.forwarding: "1"
    net.ipv6.conf.all.ndisc_notify: "1"
    net.ipv6.conf.default.ndisc_notify: "1"
    net.ipv6.conf.ens18.accept_ra: "2"
    net.ipv6.conf.ens18.ndisc_notify: "1"
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
  kernel: {}
cluster:
  id: hnoyVJdtB0tmoQf0ii6QDfIaruMhg0WXXb6xNBU9c_Y=
  secret: 0s9HHv112onOzjHdFT2kYdA9dQov+XdHVYMvoPdftm8=
  controlPlane:
    endpoint: https://[fd00:101::10]:6443
  clusterName: sol
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 2600:1700:ab1a:500d::/64
      - 10.101.224.0/20
    serviceSubnets:
      - fd00:101:96::/108
      - 10.101.96.0/24
  token: uftyal.w619jln08aqwuvho
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpakNDQVMrZ0F3SUJBZ0lRV0U1T25wMVRCbVBGeXB0VXl0RHZaREFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTJNREl3T1RBM01USXhOVm9YRFRNMk1ESXdOekEzTVRJeApOVm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCQWRvOTJTUXVZbUw3RjFnL1FYNEd1eU9mUGpVeHc4TkRrRDZvNU9HS3JPaDRpOURVb1k5bmV2N0dxQmQKaTg0WSs0Z09YWGk1dGt3TnhZVmdRbGlhUGxlallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVFMHozWXBNbzFzVU1xT3k5Mnd0eTVjS0Y5OVF3Q2dZSUtvWkl6ajBFQXdJRFNRQXdSZ0loQUtqYmZaaCsKeG1rVnl5SWNpODY0TXp5dEh3Y1FPaE9KVFZqMU13a2JPWitFQWlFQWw1MFRxR1dNS0pxUjFtaVhWU1A2TVFCYwo1bUI3TzJSNjllbytnRDhKQitjPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: ""
  proxy:
    disabled: true
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}
