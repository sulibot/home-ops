---
# roles/build_pxe_root/defaults/main.yml
pxe_root_dir: "/var/lib/pxe-rootfs/proxmox"
debian_codename: "bookworm"
debian_mirror: "http://deb.debian.org/debian"

# where to drop our PXE kernel & initrd
pxe_output_kernel: "{{ pxe_root_dir }}/vmlinuz-proxmox"
pxe_output_initrd: "{{ pxe_root_dir }}/initrd-proxmox.gz"

pxe_chroot: "{{ pxe_root_dir }}/chroot"

pxe_debootstrap_packages:
  - bash
  - coreutils
  - util-linux
  - busybox
  - gzip
  - xz-utils
  - wget
  - curl
  - gnupg
  - gpgv
  - jq
  - iproute2
  - net-tools
  - ethtool
  - isc-dhcp-client

# include the kernel image meta-package for Proxmox
pxe_chroot_packages:
  - systemd
  - systemd-sysv
  - dbus
  - gdisk
  - parted
  - dosfstools
  - e2fsprogs
  - btrfs-progs
  - zfsutils-linux
  - zfs-dkms
  - linux-headers-amd64
  - linux-image-amd64
  - grub-efi-amd64
  - grub-efi-amd64-bin
  - grub-common
  - os-prober
  - initramfs-tools
  - initramfs-tools-core
  - locales
  - tzdata
  - chrony
  - systemd-resolved
  - hostname
  - nano
  - vim
  - htop
  - dstat
  - rsync
  - pv
  - progress
  - openssh-server
  - passwd
  - adduser
